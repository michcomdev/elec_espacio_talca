{{!<layout/default}}
    {{#extend "css" }}
<link rel="stylesheet" type="text/css"
    href="/public/modules/defaulter/defaulter.css">
{{/extend}}
<br />
<h3 class="text-center animate__animated animate__fadeIn">NÓMINA MOROSOS</h3>
<br>
<div class="row">
    <div class="col-md-2">
        <label style="font-size: 14px;">Sector</label>
        <select id="searchSector" class="form-select form-select-sm
            custom-select">
            <option value="0">TODOS</option>
        </select>
    </div>
    <div class="col-md-2">
        <label style="font-size: 14px;">Meses de Deuda</label>
        <select id="searchMonths" class="form-select form-select-sm
            custom-select">
            <option value="0">TODOS</option>
            <option value="1A">Desde 1 mes</option>
            <option value="2A">Desde 2 meses</option>
            <option value="3A">Desde 3 meses</option>
            <option value="4A">Desde 4 meses</option>
            <option value="5A">Desde 5 meses</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
        </select>
    </div>
    <div class="col-md-2">
        <button style="border-radius: 5px;" class="btn btn-primary
            btn-block" id="searchDefaulter">
            <i class="fas fa-search"></i> FILTRAR
        </button>
    </div>
    <div class="col-md-2">
        <button style="border-radius: 5px;" class="btn btn-success btn-block" onclick="exportTo('excel')">
            <i class="fas fa-file-excel"></i> Exportar a Excel
        </button>
    </div>
    <div class="col-md-2">
        <button style="border-radius: 5px;" class="btn btn-danger btn-block" onclick="exportTo('pdf')">
            <i class="fas fa-file-pdf"></i> Exportar a PDF
        </button>
    </div>
    <div class="col-md-12">
        <br/>
    </div>
    <div class="col-md-12 col-xs-12 table-responsive">
        <table id="tableDefaulter" class="display nowrap cell-border
            table-condensed" cellspacing="0" width="100%">
            <thead>
                <tr class="table-info">
                    <th style="background-color: #3B6FC9; border-top-left-radius: 5px;">N° SOCIO</th>
                    <th style="background-color: #3B6FC9;">NOMBRE</th>
                    <th style="background-color: #3B6FC9;">DIRECCIÓN</th>
                    <th style="background-color: #3B6FC9;">RUT</th>
                    <th style="background-color: #3B6FC9;">TOTAL A PAGAR</th>
                    <th style="background-color: #3B6FC9;">PAGADO</th>
                    <th style="background-color: #3B6FC9;">SALDO</th>
                    <th style="background-color: #3B6FC9; border-top-right-radius: 5px;">MESES</th>
                </tr>
            </thead>
        </table>

        <table id="tableDefaulterExcel" cellspacing="0" width="100%" style="display: none; font-size: 7px;">
            <thead>
                <tr>
                    <th>N° SOCIO</th>
                    <th>NOMBRE</th>
                    <th>DIRECCIÓN</th>
                    <th>RUT</th>
                    <th>TOTAL A PAGAR</th>
                    <th>PAGADO</th>
                    <th>SALDO</th>
                    <th>MESES</th>
                </tr>
            </thead>
            <tbody id="tableDefaulterExcelBody">

            </tbody>
        </table>
        <div id="loadingDefaulter">
            <center>
                <i class="fa fa-spinner fa-pulse fa-2x fa-fw"></i>
                <span class="sr-only">Cargando...</span>
            </center>
        </div>
    </div>
</div>

<div class="modal fade" id="modalPayment" role="dialog" aria-labelledby="modal">
    <div class="modal-dialog modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="modalPayment_title"></h4>
                <button type="button" class="btn-close" data-dismiss="modal"
                    aria-label="Close">
                    <span aria-hidden="true"></span>
                </button>
            </div>
            <div class="modal-body" id="modalPayment_body"></div>
            <div class="modal-footer" id="modalPayment_footer"></div>
        </div>
    </div>
</div>


<div class="modal fade" id="modal" role="dialog" aria-labelledby="modal">
    <div class="modal-dialog modal-sm" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h6 class="modal-title" id="modal_title"></h6>
                <button type="button" class="btn-close" data-dismiss="modal"
                    aria-label="Close">
                    <span aria-hidden="true"></span>
                </button>
            </div>
            <div class="modal-body" id="modal_body"></div>
            <div class="modal-footer" id="modal_footer"></div>
        </div>
    </div>
</div>
{{#extend "js"}}
<script src="/public/modules/defaulter/defaulter.js"></script>
<script src="/public/js/xlsx.full.min.js"></script>
{{/extend}}